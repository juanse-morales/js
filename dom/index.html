<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>DOM: Crear y agregar Nodos</title>
</head>
<body>
  <form id="form">
    <span class="close">Cerrar formulario</span>
    <input type="email" name="mails[]" placeholder="Correo">
  </form>
  <buttom id="btn">Agregar más correos</buttom>
  <script>
    bind_close();
    $("#btn").addEventListener("click",function(){
      var input = document.createElement("input");
      input.setAttribute("type","email");
      input.setAttribute("placeholder","Correo");
      input.setAttribute("name","mails[]");
      $("#form").appendChild(input);
      my_alert("Se agregó un nuevo campo de correo");
    })

    function bind_close() {
      var elements = document.querySelectorAll(".close");
      for (var i = elements.length - 1; i >= 0; i--) {
        var el = elements[i];
        el.addEventListener("click",function(){
          this.parentNode.style.display = "none";
        });
      }
    }

    function my_alert(msg) {
      //console.log($("body").children);
      //console.log($("body").children[0]);
      var div = document.createElement("div");
      div.setAttribute("class","alert");
      div.innerHTML = msg;
      
      var close = document.createElement("span");
      close.style.float = "right";
      close.innerHTML = "X";
      close.setAttribute("class","close");
      div.appendChild(close);
      
      $("body").insertBefore(div,$("body").firstChild);
      bind_close();
    }

    function $(s){
      return document.querySelector(s);
    }
  </script>
</body>
</html>